<div>
  <h2>
    Selected user:
    <span
      *ngIf="
        selectedUserIndex >= 0 &&
          selectedUserIndex !== null &&
          createAccountService.getUsers().length;
        else userNotSelected
      "
    >
      {{
        createAccountService.getUsers()[selectedUserIndex]?.name +
          " " +
          createAccountService.getUsers()[selectedUserIndex]?.surname
      }}
    </span>
    <ng-template #userNotSelected>
      <span *ngIf="!selectedUserIndex"></span>
    </ng-template>
  </h2>
  <h2>List of all users:</h2>

  <ng-container
    *ngIf="users.length; then usersList; else noUsers"
  ></ng-container>

  <ng-template #usersList>
    <div class="users-list">
      <app-user
        *ngFor="
          let userInstance of createAccountService.getUsers();
          index as index
        "
        (click)="setSelectedUserIndex(index)"
        (delete)="filterOutUserIndex(index)"
        [user]="userInstance"
        [isSelected]="index === createAccountService.getSelectedUserIndex()"
      ></app-user>
    </div>
  </ng-template>

  <ng-template #noUsers> No created users could be found </ng-template>
</div>
