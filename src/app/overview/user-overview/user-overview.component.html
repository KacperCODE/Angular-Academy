<div>
  <h2>
    Selected user:
    <span
      *ngIf="
        createAccountService.getSelectedUserIndex() >= 0 &&
          createAccountService.getSelectedUserIndex() !== null &&
          users?.length;
        else userNotSelected
      "
    >
      {{
        createAccountService.getUsers()[
          createAccountService.getSelectedUserIndex()
        ]?.name +
          " " +
          createAccountService.getUsers()[
            createAccountService.getSelectedUserIndex()
          ]?.surname
      }}
    </span>
    <ng-template #userNotSelected>
      <span *ngIf="!createAccountService.getSelectedUserIndex()"></span>
    </ng-template>
  </h2>
  <h2>List of all users:</h2>

  <ng-container
    *ngIf="users?.length; then usersList; else noUsers"
  ></ng-container>

  <ng-template #usersList>
    <div class="users-list">
      <app-user
        *ngFor="let userInstance of users; index as index"
        (click)="setSelectedUserIndex(index)"
        (delete)="filterOutUserIndex(index)"
        [user]="userInstance"
        [isSelected]="index === createAccountService.getSelectedUserIndex()"
      ></app-user>
    </div>
  </ng-template>

  <ng-template #noUsers> No created users could be found </ng-template>
</div>
